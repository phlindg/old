<!DOCTYPE html>
<!-- saved from url=(0086)https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc -->
<html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium</title><link rel="canonical" href="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc"><meta name="title" content="Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium"><meta name="referrer" content="always"><meta name="description" content="Reddit’s r/algotrading seems to have a constant number of posts which revolve about the ideas: How can I trade with Python (using frameworks or not) and Interactive Brokers? Let’s try to see how to…"><meta name="theme-color" content="#000000"><meta property="og:title" content="Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium"><meta property="og:url" content="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*SoUsKl4vanxHtiaqW3pvNg.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Getting into real algotrading"><meta name="twitter:description" content="Getting into real algotrading"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*SoUsKl4vanxHtiaqW3pvNg.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@danjrod"><meta property="author" content="Daniel Rodriguez"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="Daniel Rodriguez"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2018-03-01T10:56:50.131Z"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="6 min read"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/23dea376b2fc"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/23dea376b2fc"><meta property="al:android:url" content="medium://p/23dea376b2fc"><meta property="al:web:url" content="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="https://medium.com/osd.xml"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/23dea376b2fc"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":1314,"height":699,"url":"https://cdn-images-1.medium.com/max/2000/1*SoUsKl4vanxHtiaqW3pvNg.png"},"datePublished":"2018-03-01T10:56:50.131Z","dateModified":"2018-03-01T10:56:51.041Z","headline":"Interactive Brokers in Python with backtrader","name":"Interactive Brokers in Python with backtrader","keywords":["Python","Backtrader","Interactive Brokers","Backtesting","Trading"],"author":{"@type":"Person","name":"Daniel Rodriguez","url":"https://medium.com/@danjrod"},"creator":["Daniel Rodriguez"],"publisher":{"@type":"Organization","name":"Medium","url":"https://medium.com/","logo":{"@type":"ImageObject","width":308,"height":60,"url":"https://cdn-images-1.medium.com/max/616/1*OMF3fSqH8t4xBJ9-6oZDZw.png"}},"mainEntityOfPage":"https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc"}</script><link rel="stylesheet" type="text/css" id="glyph-8" href="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/m2.css"><link rel="stylesheet" href="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/main-branding-base.JzzTOYAXstg7CX77LMdZ3w.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script><script async="" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/analytics.js.ladda ned"></script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg" color="#171717"></head><body itemscope="" class="postShowScreen browser-chrome os-windows is-withMagicUnderlines v-glyph v-glyph--m2 v-enableBrandingButtons is-js" data-action-scope="_actionscope_0"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main surface-container" id="container"><div class="butterBar butterBar--error" data-action-scope="_actionscope_1"></div><div class="surface" id="_obv.shell._surface_1519909989230" style="display: block; visibility: visible;"><div class="screenContent surface-content is-supplementalPostContentLoaded" data-used="true" data-action-scope="_actionscope_2"><canvas class="canvas-renderer" width="723" height="800"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"><div class="notesMarkers" data-action-scope="_actionscope_4"></div></div><div class="metabar u-clearfix js-metabar u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth"><div class="js-metabarMiddle metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-height65 u-xs-height56 u-paddingLeft20 u-paddingRight20"><div class="metabar-block u-flex1 u-flexCenter"><div class="js-metabarLogoLeft u-xs-show"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker"><svg class="svgIcon-use" width="138" height="27" viewBox="0 0 138 27"><path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z"></path></svg></span><span class="svgIcon svgIcon--logoWordmark svgIcon--122x45px is-flushLeft u-xs-show u-textColorDarker"><svg class="svgIcon-use" width="122" height="45" viewBox="0 0 122 45"><path d="M61.6 31.806c0 .412 0 .505.28.758l1.574 1.537v.065h-6.979v-2.95a4.852 4.852 0 0 1-4.627 3.203c-3.588 0-6.192-2.81-6.192-7.981 0-4.843 2.81-8.075 6.754-8.075a4.122 4.122 0 0 1 4.056 2.51v-6.51a.806.806 0 0 0-.319-.787l-1.499-1.443v-.065l6.951-.815v20.553zm-5.125-.937v-9.714a2.614 2.614 0 0 0-2.08-.975c-1.695 0-3.334 1.537-3.334 6.099 0 4.271 1.414 5.78 3.175 5.78a2.81 2.81 0 0 0 2.24-1.19zm9.752 3.297V21.051a.88.88 0 0 0-.281-.786L64.4 18.672v-.065h6.98v13.302c0 .412 0 .505.28.758l1.536 1.443v.066l-6.97-.01zm-.253-20.356a2.81 2.81 0 1 1 5.62 0 2.81 2.81 0 0 1-5.62 0zm24.234 17.967c0 .413 0 .534.281.787l1.574 1.537v.065h-7.017v-3.363a5.077 5.077 0 0 1-4.805 3.616c-3.11 0-4.778-2.267-4.778-6.557 0-2.07 0-4.337.066-6.885a.796.796 0 0 0-.281-.76l-1.546-1.545v-.065h6.923v8.552c0 2.81.412 4.684 2.173 4.684a2.81 2.81 0 0 0 2.267-1.415v-9.367a.88.88 0 0 0-.28-.787l-1.556-1.602v-.065h6.979v13.17zm23.756 2.39c0-.507.094-6.952.094-8.432 0-2.81-.44-4.75-2.417-4.75a3.138 3.138 0 0 0-2.482 1.35c.198.876.292 1.772.28 2.67 0 1.948-.065 4.43-.093 6.913a.796.796 0 0 0 .281.759l1.574 1.442v.066h-7.045c0-.468.094-6.95.094-8.431 0-2.857-.44-4.75-2.389-4.75a2.81 2.81 0 0 0-2.323 1.387v9.555c0 .412 0 .506.281.759l1.537 1.442v.066h-6.97V21.098a.88.88 0 0 0-.281-.787l-1.546-1.639v-.065h6.98v3.334a5.002 5.002 0 0 1 5.002-3.587c2.323 0 3.896 1.292 4.562 3.747a5.433 5.433 0 0 1 5.245-3.747c3.11 0 4.872 2.295 4.872 6.632 0 2.07-.066 4.43-.094 6.913a.75.75 0 0 0 .318.759l1.537 1.443v.065h-7.017zm-87.671-2.043l2.07 1.977v.065H17.862v-.065l2.107-1.977a.796.796 0 0 0 .281-.759V18.728c0-.534 0-1.255.094-1.873l-7.082 17.564h-.084L5.843 18.26c-.16-.402-.206-.43-.31-.702v10.595c-.087.71.034 1.429.348 2.07l2.95 3.879v.065H1v-.065l2.95-3.888a3.69 3.69 0 0 0 .347-2.06v-11.71a2.267 2.267 0 0 0-.487-1.602l-2.089-2.708v-.065h7.494l6.277 13.686 5.527-13.686h7.335v.065l-2.061 2.296a.806.806 0 0 0-.319.786v16.15a.75.75 0 0 0 .319.759zm8.215-6.332v.065c0 4.01 2.07 5.62 4.497 5.62a5.105 5.105 0 0 0 4.777-2.894h.066c-.844 3.963-3.298 5.836-6.97 5.836-3.962 0-7.7-2.389-7.7-7.925 0-5.817 3.747-8.14 7.887-8.14 3.335 0 6.886 1.573 6.886 6.632v.806h-9.443zm0-.806h4.618v-.815c0-4.122-.852-5.218-2.136-5.218-1.555 0-2.5 1.64-2.5 6.033h.018z"></path></svg></span><span class="u-textScreenReader">Homepage</span></a></div><a class="link link--darken u-accentColor--textDarken u-baseColor--link u-xs-hide js-upgradeMembershipAction" href="https://medium.com/membership?source=upgrade_membership---nav_full">About membership</a></div><div class="metabar-block u-flex0"><div class="buttonSet buttonSet--wide"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-xs-hide js-signInButton" href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40danjrod%2Finteractive-brokers-in-python-with-backtrader-23dea376b2fc&amp;source=--------------------------nav_reg&amp;operation=login" data-action="sign-in-prompt" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-action-source="--------------------------nav_reg">Sign in</a><a class="button button--primary button--withChrome u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton" href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40danjrod%2Finteractive-brokers-in-python-with-backtrader-23dea376b2fc&amp;source=--------------------------nav_reg&amp;operation=register" data-action="sign-up-prompt" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-action-source="--------------------------nav_reg">Get started</a></div></div><div class="u-absolute u-sizeFullWidth u-top0 u-right0 u-bottom0 u-flexCenter u-justifyContentCenter u-textAlignCenter u-xs-hide js-metabarLogoCentered"><a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker"><svg class="svgIcon-use" width="138" height="27" viewBox="0 0 138 27"><path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z"></path></svg></span><span class="u-textScreenReader">Homepage</span></a></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-minHeight100vhOffset65 u-overflowHidden postArticle postArticle--full u-marginBottom40" lang="en" data-scroll="native"><header class="container u-maxWidth740"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="uiScale uiScale-ui--regular uiScale-caption--regular postMetaLockup postMetaLockup--authorWithBio u-flexCenter js-postMetaLockup"><div class="u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@danjrod?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="76212358fd10" data-action-type="hover" data-user-id="76212358fd10" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/0_P817frWsEBLG1Tam_" class="avatar-image avatar-image--smaller" alt="Go to the profile of Daniel Rodriguez"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><div class="u-lineHeightTightest"><a class="ds-link ds-link--styleSubtle ui-captionStrong u-inlineBlock link link--darken link--darker" href="https://medium.com/@danjrod?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="76212358fd10" data-action-type="hover" data-user-id="76212358fd10" dir="auto">Daniel Rodriguez</a><span class="followState js-followState" data-user-id="76212358fd10"><button class="button button--smallest u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--smallest u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/76212358fd10" data-action-source="post_header_lockup-76212358fd10-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="ui-caption postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2018-03-01T10:56:50.131Z">Mar 1</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="6 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost" data-post-id="23dea376b2fc" data-source="post_page" data-tracking-context="postPage" data-scroll="native"><section name="2a39" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="f626" id="f626" class="graf graf--h3 graf--leading graf--title">Interactive Brokers in Python with backtrader</h1><h2 name="d3e6" id="d3e6" class="graf graf--h4 graf-after--h3 graf--subtitle">Getting into real algotrading</h2><p name="51fc" id="51fc" class="graf graf--p graf-after--h4">Reddit’s r/algotrading seems to have a constant number of posts which revolve about the ideas: How can I trade with Python (using frameworks or not) and Interactive Brokers? Let’s try to see how to achieve it with *backtrader.</p><p name="f6db" id="f6db" class="graf graf--p graf-after--p">For starters we need an environment, so let’s create one and to go with the times, we will set it up with the formidable *pipenv*.</p><pre name="2a80" id="2a80" class="graf graf--pre graf-after--p">pipenv install backtrader<br>pipenv install <a href="https://github.com/blampe/IbPy/archive/master.zip" data-href="https://github.com/blampe/IbPy/archive/master.zip" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://github.com/blampe/IbPy/archive/master.zip</a></pre><p name="aaf3" id="aaf3" class="graf graf--p graf-after--pre">This will create a virtual environment with the aforementioned packages (yes, we have installed directly from the GitHub master, because *IbPy* is not available on PyPi)</p><p name="bd61" id="bd61" class="graf graf--p graf-after--p">We of course need to have access to Interactive Brokers. For the purpose of this post, we’ll use the full blown client but we *Faux Data*.</p><ul class="postList"><li name="5b82" id="5b82" class="graf graf--li graf-after--p">Get the client from here: <a href="https://www.interactivebrokers.com/en/index.php?f=19903" data-href="https://www.interactivebrokers.com/en/index.php?f=19903" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://www.interactivebrokers.com/en/index.php?f=19903</a></li><li name="548b" id="548b" class="graf graf--li graf-after--li">If the link is broken&nbsp;… google it, finding the latest version of TWS isn’t such a great deal</li><li name="4a4f" id="4a4f" class="graf graf--li graf-after--li">Install it and run it</li></ul><p name="508c" id="508c" class="graf graf--p graf-after--li">When prompted for the credentials and type of trading choose:</p><ul class="postList"><li name="39f6" id="39f6" class="graf graf--li graf-after--p">Username: <em class="markup--em markup--li-em">edemo</em></li><li name="c704" id="c704" class="graf graf--li graf-after--li">Password: <em class="markup--em markup--li-em">demouser</em></li><li name="3144" id="3144" class="graf graf--li graf-after--li">Trading: <em class="markup--em markup--li-em">Paper Trading</em></li></ul><figure name="8db3" id="8db3" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 458px; max-height: 284px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 62%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*IQRFn6zx2kiiY8JJYUSqaw.png" data-width="458" data-height="284" data-scroll="native"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_IQRFn6zx2kiiY8JJYUSqaw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="46"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*IQRFn6zx2kiiY8JJYUSqaw.png" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_IQRFn6zx2kiiY8JJYUSqaw(1).png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*IQRFn6zx2kiiY8JJYUSqaw.png"&gt;</noscript></div></div></figure><p name="76ea" id="76ea" class="graf graf--p graf-after--figure">The actual trading makes no difference with Faux Data, it is just to show what you will probably want to do before really going live.</p><p name="e9a6" id="e9a6" class="graf graf--p graf-after--p">Now TWS should be running like this</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="bf48" id="bf48" class="graf graf--figure graf--layoutOutsetCenter graf-after--p" data-scroll="native"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 532px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.2%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*SoUsKl4vanxHtiaqW3pvNg.png" data-width="1314" data-height="699" data-is-featured="true" data-action="zoom" data-action-value="1*SoUsKl4vanxHtiaqW3pvNg.png" data-scroll="native"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_SoUsKl4vanxHtiaqW3pvNg.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="38"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/2000/1*SoUsKl4vanxHtiaqW3pvNg.png" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_SoUsKl4vanxHtiaqW3pvNg(1).png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/2000/1*SoUsKl4vanxHtiaqW3pvNg.png"&gt;</noscript></div></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="7787" id="7787" class="graf graf--p graf-after--figure">With the client running, we additionally need to do a couple of things</p><ul class="postList"><li name="e81f" id="e81f" class="graf graf--li graf-after--p">Under <code class="markup--code markup--li-code">File -&gt; Global Configuration</code> choose <code class="markup--code markup--li-code">Settings -&gt; API</code> and</li><li name="2397" id="2397" class="graf graf--li graf-after--li">Check <code class="markup--code markup--li-code">Enable ActiveX and Socket Clients</code> and uncheck <code class="markup--code markup--li-code">Read-Only API</code></li><li name="de89" id="de89" class="graf graf--li graf-after--li">Notice that the port is <code class="markup--code markup--li-code">7497</code>&nbsp;, which differs from the standard <code class="markup--code markup--li-code">7496</code> which is used for Live Trading (remember we chose Paper Trading above)</li></ul><figure name="6cf2" id="6cf2" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 578px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 82.5%;"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*kdkdLD2wCKhzmm-2gW24xw.png" data-width="800" data-height="660" data-action="zoom" data-action-value="1*kdkdLD2wCKhzmm-2gW24xw.png" data-scroll="native"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_kdkdLD2wCKhzmm-2gW24xw.png" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><canvas class="progressiveMedia-canvas js-progressiveMedia-canvas" width="75" height="61"></canvas><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*kdkdLD2wCKhzmm-2gW24xw.png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*kdkdLD2wCKhzmm-2gW24xw.png"&gt;</noscript></div></div></figure><p name="29e7" id="29e7" class="graf graf--p graf-after--figure">We are good to go.</p><p name="c990" id="c990" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Getting a data stream</strong></p><p name="254f" id="254f" class="graf graf--p graf-after--p">Let’s start easy by getting a data stream with a simple script</p><pre name="1382" id="1382" class="graf graf--pre graf-after--p">from __future__ import (absolute_import, division, print_function,<br>                        unicode_literals)</pre><pre name="284d" id="284d" class="graf graf--pre graf-after--pre">import backtrader as bt</pre><pre name="be0e" id="be0e" class="graf graf--pre graf-after--pre">class St(bt.Strategy):<br>    def logdata(self):<br>        txt = []<br>        txt.append('{}'.format(len(self)))<br>           <br>        txt.append('{}'.format(<br>            self.data.datetime.datetime(0).isoformat())<br>        )<br>        txt.append('{:.2f}'.format(self.data.open[0]))<br>        txt.append('{:.2f}'.format(self.data.high[0]))<br>        txt.append('{:.2f}'.format(self.data.low[0]))<br>        txt.append('{:.2f}'.format(self.data.close[0]))<br>        txt.append('{:.2f}'.format(self.data.volume[0]))<br>        print(','.join(txt))</pre><pre name="9921" id="9921" class="graf graf--pre graf-after--pre">    def next(self):<br>        self.logdata()</pre><pre name="cdde" id="cdde" class="graf graf--pre graf-after--pre">def run(args=None):<br>    cerebro = bt.Cerebro(stdstats=False)<br>    store = bt.stores.IBStore(port=7497)</pre><pre name="b754" id="b754" class="graf graf--pre graf-after--pre">    data = store.getdata(dataname='TWTR',<br>                         timeframe=bt.TimeFrame.Ticks)    <br>    cerebro.resampledata(data, timeframe=bt.TimeFrame.Seconds,<br>                         compression=10)<br>    cerebro.addstrategy(St)</pre><pre name="ea2c" id="ea2c" class="graf graf--pre graf-after--pre">    cerebro.run()</pre><pre name="7a8f" id="7a8f" class="graf graf--pre graf-after--pre">if __name__ == '__main__':<br>    run()</pre><p name="e92d" id="e92d" class="graf graf--p graf-after--pre">Some notes</p><ul class="postList"><li name="b39c" id="b39c" class="graf graf--li graf-after--p">We have chosen <code class="markup--code markup--li-code">TWTR</code> as the ticker (<code class="markup--code markup--li-code">dataname='TWTR'</code> )</li><li name="d123" id="d123" class="graf graf--li graf-after--li">We have applied a <code class="markup--code markup--li-code">timeframe=bt.TimeFrame.Ticks</code> because we want to collect real-time data in the form of ticks. Interactive Brokers doesn’t deliver ready-made 10-seconds bars when they are complete</li><li name="4270" id="4270" class="graf graf--li graf-after--li">The ticks are resample to 10-seconds bars with <code class="markup--code markup--li-code">cerebro.resampledata</code></li><li name="1b1a" id="1b1a" class="graf graf--li graf-after--li">Our strategy class, does simply print the data. Let’s see how it looks like</li></ul><pre name="d87e" id="d87e" class="graf graf--pre graf-after--li">pipenv run ./ibtutorial.py</pre><pre name="3af2" id="3af2" class="graf graf--pre graf-after--pre">Server Version: 76<br>TWS Time at connection:20180301 10:46:18 CET<br>1,2018-03-01T06:46:20,33.41,33.43,33.38,33.38,11.00<br>2,2018-03-01T06:46:30,33.42,33.42,33.34,33.42,15.00<br>...<br>1079,2018-03-01T09:46:00,33.56,33.57,33.54,33.57,33.00<br>1080,2018-03-01T09:46:10,33.56,33.59,33.55,33.57,32.00<br>1081,2018-03-01T09:46:30,33.44,33.44,33.43,33.43,7.00<br>1082,2018-03-01T09:46:40,33.44,33.47,33.41,33.44,22.00</pre><p name="fafe" id="fafe" class="graf graf--p graf-after--pre">Very quickly a whooping total of 1082 bars. This is so, because <em class="markup--em markup--p-em">backtrader</em> has done <em class="markup--em markup--p-em">back-filling</em> for us. But we don’t know where is the difference between back-filled bars and the real-time bars. Let’s rely on notifications by extending our strategy class with this method (and an attribute to control when data is <em class="markup--em markup--p-em">live</em>)</p><pre name="5ba4" id="5ba4" class="graf graf--pre graf-after--p">data_live = False</pre><pre name="a43b" id="a43b" class="graf graf--pre graf-after--pre">def notify_data(self, data, status, *args, **kwargs):<br>    print('*' * 5, 'DATA NOTIF:', data._getstatusname(status),<br>          *args)<br>    if status == data.LIVE:<br>        self.data_live = True</pre><p name="7b3e" id="7b3e" class="graf graf--p graf-after--pre">And we give ourselves a chance to see the notification</p><pre name="d4b7" id="d4b7" class="graf graf--pre graf-after--p">pipenv run ./ibtutorial.py</pre><pre name="8d68" id="8d68" class="graf graf--pre graf-after--pre">Server Version: 76<br>TWS Time at connection:20180301 10:52:58 CET<br>***** DATA NOTIF: DELAYED<br>1,2018-03-01T06:53:00,33.43,33.44,33.43,33.43,10.00<br>...<br>1081,2018-03-01T09:53:00,33.51,33.51,33.51,33.51,6.00<br>***** DATA NOTIF: LIVE<br>1082,2018-03-01T09:53:10,33.52,33.54,33.52,33.52,31.00</pre><p name="29d7" id="29d7" class="graf graf--p graf-after--pre">Now we see it clearly. At the beginning the data is <code class="markup--code markup--p-code">DELAYED</code> and only after 1081 bars is the system in a position to provide you with real-time data. Remember we are using 10-seconds bars. When we get bar 1082, this is the summary of the last 10 seconds.</p><p name="efcf" id="efcf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Doing some trading</strong></p><p name="e414" id="e414" class="graf graf--p graf-after--p">The next step is obviously doing some trading, now that we are getting some data. If you have carefully read the code above you will have noticed that the data stream is fetched with a: <code class="markup--code markup--p-code">store.getdata(...)</code>&nbsp;. And that before that we created the store with <code class="markup--code markup--p-code">store = bt.stores.IBStore(...)</code></p><p name="6303" id="6303" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">backtrader</em> offers the <em class="markup--em markup--p-em">Store</em> concept to provide a unified interface to access data instances and broker instances. This post is about Interactive Brokers. If you decide to go some other path, you simply need to change the <em class="markup--em markup--p-em">Store</em>. Getting the data will still be done with <code class="markup--code markup--p-code">data = store.getdata(...)</code></p><p name="bb7a" id="bb7a" class="graf graf--p graf-after--p">All this <em class="markup--em markup--p-em">store</em> applies to the broker and will be used now. We are going to add our broker to the mixture</p><pre name="48a5" id="48a5" class="graf graf--pre graf-after--p">...<br>cerebro.resampledata(data, timeframe=bt.TimeFrame.Seconds, <br>                     compression=10)</pre><pre name="2718" id="2718" class="graf graf--pre graf-after--pre">broker = store.getbroker()</pre><pre name="d5cc" id="d5cc" class="graf graf--pre graf-after--pre">cerebro.addstrategy(St)<br>...</pre><p name="3df9" id="3df9" class="graf graf--p graf-after--pre">This simple line (after for example <code class="markup--code markup--p-code">cerebro.esampledata</code> ) does the magic of changing the backtesting (which defaults to a broker simulation) engine to use the Interactive Brokers facilities.</p><p name="5df7" id="5df7" class="graf graf--p graf-after--p">We obviously need now some <code class="markup--code markup--p-code">buy/sell</code> action. Rather than implementing a sensible strategy, we will go for a dummy approach</p><ul class="postList"><li name="0535" id="0535" class="graf graf--li graf-after--p">Buy <code class="markup--code markup--li-code">1</code> unit as soon as <code class="markup--code markup--li-code">DATA.LIVE</code> is notified ( <code class="markup--code markup--li-code">Market</code> order). A stake of 1 is the default so we will just issue a <code class="markup--code markup--li-code">self.buy()</code></li><li name="1012" id="1012" class="graf graf--li graf-after--li">Sell <code class="markup--code markup--li-code">1</code> unit 3 bars later ( <code class="markup--code markup--li-code">Market</code> order) for which we’ll issue a <code class="markup--code markup--li-code">self.sell()</code></li></ul><p name="1c22" id="1c22" class="graf graf--p graf-after--li">The reason: we don’t want to wait for moving averages crossing over or stochatic or rsi indicators going overbought or oversold.</p><p name="f65a" id="f65a" class="graf graf--p graf-after--p">We obviously also want to see when the orders have been executed, so we’ll also look out for order notifications.</p><pre name="f101" id="f101" class="graf graf--pre graf-after--p">def notify_order(self, order):<br>    if order.status == order.Completed:<br>        buysell = 'BUY ' if order.isbuy() else 'SELL'<br>        txt = '{} {}@{}'.format(buysell, order.executed.size,<br>                                order.executed.price)<br>        print(txt)</pre><pre name="5d3f" id="5d3f" class="graf graf--pre graf-after--pre">bought = 0<br>sold = 0</pre><pre name="fd78" id="fd78" class="graf graf--pre graf-after--pre">def next(self):<br>    self.logdata()<br>    if not self.data_live:<br>        return</pre><pre name="d802" id="d802" class="graf graf--pre graf-after--pre">    if not self.bought:<br>        self.bought = len(self)  # keep entry bar<br>        self.buy()<br>    elif not self.sold:<br>        if len(self) == (self.bought + 3):<br>            self.sell()</pre><p name="75bb" id="75bb" class="graf graf--p graf-after--pre">That’s the set of modifications we have made to the simple strategy we had above. Not much. <em class="markup--em markup--p-em">bought</em> and <em class="markup--em markup--p-em">sold</em> will be used as flags to understand if we have already bought (and when) and sold. We’ll only be executing these operations once in this example.</p><p name="3e67" id="3e67" class="graf graf--p graf-after--p">Let the show begin</p><pre name="c6c0" id="c6c0" class="graf graf--pre graf-after--p">pipenv run ./ibtutorial.py</pre><pre name="b25a" id="b25a" class="graf graf--pre graf-after--pre">Server Version: 76<br>TWS Time at connection:20180301 11:12:56 CET<br>***** DATA NOTIF: DELAYED<br>1,2018-03-01T07:12:50,33.54,33.56,33.52,33.54,25.00<br>...<br>1081,2018-03-01T10:12:50,33.19,33.19,33.18,33.19,8.00<br>***** DATA NOTIF: LIVE<br>1082,2018-03-01T10:13:00,33.55,33.55,33.55,33.55,64.00<br>BUY  1@33.55<br>1083,2018-03-01T10:13:10,33.55,33.55,33.54,33.54,17.00<br>1084,2018-03-01T10:13:20,33.55,33.55,33.52,33.54,9.00<br>1085,2018-03-01T10:13:30,33.54,33.54,33.53,33.54,33.00<br>SELL -1@33.52<br>1086,2018-03-01T10:13:40,33.52,33.56,33.52,33.52,45.00<br>...</pre><p name="2965" id="2965" class="graf graf--p graf-after--pre">Incredible but true. The code we crafted above has respected our wishes and when the data has gone live, a buy has been executed. Ad 3 bars later a sell has also been executed.</p><p name="4e05" id="4e05" class="graf graf--p graf-after--p">We have actually lost some money because we bought at <code class="markup--code markup--p-code">33.55</code> and sold at <code class="markup--code markup--p-code">33.52</code>&nbsp;, but so is the circus.</p><p name="b3b6" id="b3b6" class="graf graf--p graf-after--p">The 3 code samples from above have been placed in Github under</p><ul class="postList"><li name="e661" id="e661" class="graf graf--li graf-after--p"><a href="https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7" data-href="https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7</a></li></ul><p name="09eb" id="09eb" class="graf graf--p graf-after--li">This a rather dull and boring example, but it should give an insight as how easy it is to get up and running. There are many more things you could apply, like for example</p><ul class="postList"><li name="02b9" id="02b9" class="graf graf--li graf-after--p">Indicators, like <code class="markup--code markup--li-code">moving averages</code>, <code class="markup--code markup--li-code">stochastic</code>&nbsp;, <code class="markup--code markup--li-code">macd</code>&nbsp;, <code class="markup--code markup--li-code">rsi</code> and many others. Over 100 are built-in in <em class="markup--em markup--li-em">backtrader. </em>Should that not be enough, you can also use <code class="markup--code markup--li-code">ta-lib</code> with it</li><li name="97eb" id="97eb" class="graf graf--li graf-after--li">Analyzers: <code class="markup--code markup--li-code">SharpeRatio</code>&nbsp;, <code class="markup--code markup--li-code">TimeReturn</code>&nbsp;, <code class="markup--code markup--li-code">DrawDown</code> and many others</li><li name="f85f" id="f85f" class="graf graf--li graf-after--li">Observers: which are half-way between Indicators and Analyzers and are mostly intended for plotting</li><li name="27f2" id="27f2" class="graf graf--li graf-after--li">Plotting: (not in real-time) You need <code class="markup--code markup--li-code">matplotlib</code> and you can plot with a single command <code class="markup--code markup--li-code">cerebro.plot()</code> at the end of your backtesting</li><li name="5280" id="5280" class="graf graf--li graf-after--li">Timers: to execute actions at given times</li></ul><p name="722f" id="722f" class="graf graf--p graf-after--li">And many other things which you can check in the docs or you can ask about int the community.</p><ul class="postList"><li name="7d0c" id="7d0c" class="graf graf--li graf-after--p">Docs: <a href="https://www.backtrader.com/docu" data-href="https://www.backtrader.com/docu" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://www.backtrader.com/docu</a></li><li name="288e" id="288e" class="graf graf--li graf-after--li">Blog: <a href="https://www.backtrader.com/blog" data-href="https://www.backtrader.com/blog" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://www.backtrader.com/blog</a></li><li name="dd25" id="dd25" class="graf graf--li graf-after--li">Community: <a href="https://community.backtrader.com/" data-href="https://community.backtrader.com" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://community.backtrader.com</a></li><li name="5006" id="5006" class="graf graf--li graf-after--li">Source code: <a href="https://github.com/backtrader/backtrader" data-href="https://github.com/backtrader/backtrader" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://github.com/backtrader/backtrader</a></li></ul><p name="e698" id="e698" class="graf graf--p graf-after--li">Of course and before you engage into any trading: do you backtesting, look for bugs in your code, redo your backtesting.</p><p name="e20e" id="e20e" class="graf graf--p graf-after--p graf--trailing">Happy trading.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link" href="https://medium.com/tag/python?source=post" data-action-source="post">Python</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/backtrader?source=post" data-action-source="post">Backtrader</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/interactive-brokers?source=post" data-action-source="post">Interactive Brokers</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/backtesting?source=post" data-action-source="post">Backtesting</a></li><li><a class="link u-baseColor--link" href="https://medium.com/tag/trading?source=post" data-action-source="post">Trading</a></li></ul></div></div></div><section class="uiScale uiScale-ui--small uiScale-caption--regular u-borderTopLightest u-marginTop10 u-paddingTop20"><div class="ui-h3 u-textColorDarker u-fontSize22">One clap, two clap, three clap, forty?</div><p class="ui-body u-marginBottom20 u-textColorDark u-fontSize16">By clapping more or less, you can signal to us which stories really stand out.</p></section><div class="postActions js-postActionsFooter"><div class="u-flexCenter"><div class="u-flex1"><div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="23dea376b2fc" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----23dea376b2fc---------------------clap_footer"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal clap-onboarding" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/23dea376b2fc" data-action-source="post_actions_footer-----23dea376b2fc---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="23dea376b2fc"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"></span></div></div><div class="buttonSet u-flex0"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-hide" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button><button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon u-xs-show" title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd"></path></svg></span></button></div></div></div></div><div class="u-maxWidth740 u-paddingTop20 u-marginTop20 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="uiScale uiScale-ui--small uiScale-caption--regular u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState" data-user-id="76212358fd10"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/76212358fd10" data-action-source="footer_card-76212358fd10-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell"><a class="link u-baseColor--link avatar" href="https://medium.com/@danjrod?source=footer_card" title="Go to the profile of Daniel Rodriguez" aria-label="Go to the profile of Daniel Rodriguez" data-action-source="footer_card" data-user-id="76212358fd10" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/0_P817frWsEBLG1Tam_(1)" class="avatar-image avatar-image--small" alt="Go to the profile of Daniel Rodriguez"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="ui-h3 u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal" href="https://medium.com/@danjrod" property="cc:attributionName" title="Go to the profile of Daniel Rodriguez" aria-label="Go to the profile of Daniel Rodriguez" rel="author cc:attributionUrl" data-user-id="76212358fd10" dir="auto">Daniel Rodriguez</a></h3></div></li></div></div></div><div class="js-postFooterPlacements" data-action-scope="_actionscope_6"><div class="streamItem streamItem--placementCardGrid js-streamItem"><div class="u-clearfix u-backgroundGrayLightest"><div class="row u-marginAuto u-maxWidth1000 u-paddingTop30 u-paddingBottom40"><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="4c18d1647537" data-source="placement_card_footer_grid---------0-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.com/algory-project/algory-project-cryptocurrency-backtest-your-trading-strategy-4c18d1647537?source=placement_card_footer_grid---------0-43" data-action-source="placement_card_footer_grid---------0-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/800/240/1*LvJWSilkkwOWCaFXv_Ut7w.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.com/algory-project/algory-project-cryptocurrency-backtest-your-trading-strategy-4c18d1647537?source=placement_card_footer_grid---------0-43" data-action-source="placement_card_footer_grid---------0-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Backtesting</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">Algory Project: Cryptocurrency — Backtest your trading strategy</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@tomasz.przybycien" data-action="show-user-card" data-action-value="8412f4c95f52" data-action-type="hover" data-user-id="8412f4c95f52" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/1_RIAPgzqOrsOyw6didUDxKA.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Tomasz Przybycien"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.com/@tomasz.przybycien?source=placement_card_footer_grid---------0-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------0-43" data-action-value="8412f4c95f52" data-action-type="hover" data-user-id="8412f4c95f52" dir="auto">Tomasz Przybycien</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="6 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="4c18d1647537" data-is-label-padded="true" data-source="placement_card_footer_grid-----4c18d1647537----0-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/4c18d1647537" data-action-source="placement_card_footer_grid-----4c18d1647537----0-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="4c18d1647537">126</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/4c18d1647537" data-action-source="placement_card_footer_grid-----4c18d1647537----0-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="fb676e51c8dd" data-source="placement_card_footer_grid---------1-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://medium.com/@joemccann/predicting-the-rise-and-fall-of-bitcoins-price-with-math-fb676e51c8dd?source=placement_card_footer_grid---------1-43" data-action-source="placement_card_footer_grid---------1-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/800/240/1*WJR9OAB0hjcYAvDZ4NhyKg.jpeg&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://medium.com/@joemccann/predicting-the-rise-and-fall-of-bitcoins-price-with-math-fb676e51c8dd?source=placement_card_footer_grid---------1-43" data-action-source="placement_card_footer_grid---------1-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Trading</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">Predicting the Rise and Fall of bitcoin’s Price With Math</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://medium.com/@joemccann" data-action="show-user-card" data-action-value="43bcae4467a5" data-action-type="hover" data-user-id="43bcae4467a5" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/0_tEV5H8_zUIUqXsEe.jpeg" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Joe McCann"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://medium.com/@joemccann?source=placement_card_footer_grid---------1-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------1-43" data-action-value="43bcae4467a5" data-action-type="hover" data-user-id="43bcae4467a5" dir="auto">Joe McCann</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="7 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="fb676e51c8dd" data-is-label-padded="true" data-source="placement_card_footer_grid-----fb676e51c8dd----1-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/fb676e51c8dd" data-action-source="placement_card_footer_grid-----fb676e51c8dd----1-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="fb676e51c8dd">4.3K</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/fb676e51c8dd" data-action-source="placement_card_footer_grid-----fb676e51c8dd----1-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div><div class="col u-padding8 u-xs-size12of12 u-size4of12"><div class="uiScale uiScale-ui--small uiScale-caption--regular u-height280 u-sizeFullWidth u-backgroundWhite u-borderCardBorder u-boxShadow u-borderBox u-borderRadius4 js-trackedPost" data-post-id="a3684c6f71e" data-source="placement_card_footer_grid---------2-43" data-tracking-context="placement" data-scroll="native"><a class="link link--noUnderline u-baseColor--link" href="https://tech.instacart.com/how-to-build-a-deep-learning-model-in-15-minutes-a3684c6f71e?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="u-backgroundCover u-backgroundColorGrayLight u-height100 u-sizeFullWidth u-borderBottomLight u-borderRadiusTop4" style="background-image: url(&quot;https://cdn-images-1.medium.com/fit/c/800/240/1*1DZImJIxInPbkqpCQpsQcA.png&quot;); background-position: 50% 50% !important;"></div></a><div class="u-padding15 u-borderBox u-flexColumn u-height180"><a class="link link--noUnderline u-baseColor--link u-flex1" href="https://tech.instacart.com/how-to-build-a-deep-learning-model-in-15-minutes-a3684c6f71e?source=placement_card_footer_grid---------2-43" data-action-source="placement_card_footer_grid---------2-43"><div class="uiScale uiScale-ui--regular uiScale-caption--small u-textColorNormal u-marginBottom7">Also tagged Python</div><div class="ui-h3 ui-clamp2 u-textColorDarkest u-contentSansBold u-fontSize24 u-maxHeight2LineHeightTighter u-lineClamp2 u-textOverflowEllipsis u-letterSpacingTight u-paddingBottom2">How to build a deep learning model in 15 minutes</div></a><div class="u-paddingTop10 u-flex0 u-flexCenter"><div class="u-flex1 u-minWidth0 u-marginRight10"><div class="u-flexCenter"><div class="postMetaInline-avatar u-flex0"><a class="link u-baseColor--link avatar" href="https://tech.instacart.com/@montanalow" data-action="show-user-card" data-action-value="d3f510f2c93c" data-action-type="hover" data-user-id="d3f510f2c93c" data-collection-slug="tech-at-instacart" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/0_c476lYnT0yMqw_RP_" class="avatar-image u-size36x36 u-xs-size32x32" alt="Go to the profile of Montana Low"></a></div><div class="postMetaInline postMetaInline-authorLockup ui-captionStrong u-flex1 u-noWrapWithEllipsis"><a class="ds-link ds-link--styleSubtle link link--darken link--darker" href="https://tech.instacart.com/@montanalow?source=placement_card_footer_grid---------2-43" data-action="show-user-card" data-action-source="placement_card_footer_grid---------2-43" data-action-value="d3f510f2c93c" data-action-type="hover" data-user-id="d3f510f2c93c" data-collection-slug="tech-at-instacart" dir="auto">Montana Low</a><div class="ui-caption u-fontSize12 u-baseColor--textNormal u-textColorNormal js-postMetaInlineSupplemental"><span class="readingTime u-textColorNormal" title="9 min read"></span></div></div></div></div><div class="u-flex0 u-flexCenter"><div class="buttonSet"><div class="multirecommend js-actionMultirecommend u-flexCenter" data-post-id="a3684c6f71e" data-is-label-padded="true" data-source="placement_card_footer_grid-----a3684c6f71e----2-43----------------clap_preview"><div class="u-relative u-foreground"><button class="button button--primary button--chromeless u-accentColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/a3684c6f71e" data-action-source="placement_card_footer_grid-----a3684c6f71e----2-43----------------clap_preview" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.739 0l.761 2.966L13.261 0z"></path><path d="M14.815 3.776l1.84-2.551-1.43-.471z"></path><path d="M8.378 1.224l1.84 2.551L9.81.753z"></path><path d="M20.382 21.622c-1.04 1.04-2.115 1.507-3.166 1.608.168-.14.332-.29.492-.45 2.885-2.886 3.456-5.982 1.69-9.211l-1.101-1.937-.955-2.02c-.315-.676-.235-1.185.245-1.556a.836.836 0 0 1 .66-.16c.342.056.66.28.879.605l2.856 5.023c1.179 1.962 1.379 5.119-1.6 8.098m-13.29-.528l-5.02-5.02a1 1 0 0 1 .707-1.701c.255 0 .512.098.707.292l2.607 2.607a.442.442 0 0 0 .624-.624L4.11 14.04l-1.75-1.75a.998.998 0 1 1 1.41-1.413l4.154 4.156a.44.44 0 0 0 .624 0 .44.44 0 0 0 0-.624l-4.152-4.153-1.172-1.171a.998.998 0 0 1 0-1.41 1.018 1.018 0 0 1 1.41 0l1.172 1.17 4.153 4.152a.437.437 0 0 0 .624 0 .442.442 0 0 0 0-.624L6.43 8.222a.988.988 0 0 1-.291-.705.99.99 0 0 1 .29-.706 1 1 0 0 1 1.412 0l6.992 6.993a.443.443 0 0 0 .71-.501l-1.35-2.856c-.315-.676-.235-1.185.246-1.557a.85.85 0 0 1 .66-.16c.342.056.659.28.879.606L18.628 14c1.573 2.876 1.067 5.545-1.544 8.156-1.396 1.397-3.144 1.966-5.063 1.652-1.713-.286-3.463-1.248-4.928-2.714zM10.99 5.976l2.562 2.562c-.497.607-.563 1.414-.155 2.284l.265.562-4.257-4.257a.98.98 0 0 1-.117-.445c0-.267.104-.517.292-.706a1.023 1.023 0 0 1 1.41 0zm8.887 2.06c-.375-.557-.902-.916-1.486-1.011a1.738 1.738 0 0 0-1.342.332c-.376.29-.61.656-.712 1.065a2.1 2.1 0 0 0-1.095-.562 1.776 1.776 0 0 0-.992.128l-2.636-2.636a1.883 1.883 0 0 0-2.658 0 1.862 1.862 0 0 0-.478.847 1.886 1.886 0 0 0-2.671-.012 1.867 1.867 0 0 0-.503.909c-.754-.754-1.992-.754-2.703-.044a1.881 1.881 0 0 0 0 2.658c-.288.12-.605.288-.864.547a1.884 1.884 0 0 0 0 2.659l.624.622a1.879 1.879 0 0 0-.91 3.16l5.019 5.02c1.595 1.594 3.515 2.645 5.408 2.959a7.16 7.16 0 0 0 1.173.098c1.026 0 1.997-.24 2.892-.7.279.04.555.065.828.065 1.53 0 2.969-.628 4.236-1.894 3.338-3.338 3.083-6.928 1.738-9.166l-2.868-5.043z"></path></g></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M11.738 0l.762 2.966L13.262 0z"></path><path d="M16.634 1.224l-1.432-.47-.408 3.022z"></path><path d="M9.79.754l-1.431.47 1.84 2.552z"></path><path d="M22.472 13.307l-3.023-5.32c-.287-.426-.689-.705-1.123-.776a1.16 1.16 0 0 0-.911.221c-.297.231-.474.515-.535.84.017.022.036.04.053.063l2.843 5.001c1.95 3.564 1.328 6.973-1.843 10.144a8.46 8.46 0 0 1-.549.501c1.205-.156 2.328-.737 3.351-1.76 3.268-3.268 3.041-6.749 1.737-8.914"></path><path d="M12.58 9.887c-.156-.83.096-1.569.692-2.142L10.78 5.252c-.5-.504-1.378-.504-1.879 0-.178.18-.273.4-.329.63l4.008 4.005z"></path><path d="M15.812 9.04c-.218-.323-.539-.55-.88-.606a.814.814 0 0 0-.644.153c-.176.137-.713.553-.24 1.566l1.43 3.025a.539.539 0 1 1-.868.612L7.2 6.378a.986.986 0 1 0-1.395 1.395l4.401 4.403a.538.538 0 1 1-.762.762L5.046 8.54 3.802 7.295a.99.99 0 0 0-1.396 0 .981.981 0 0 0 0 1.394L3.647 9.93l4.402 4.403a.537.537 0 0 1 0 .761.535.535 0 0 1-.762 0L2.89 10.696a.992.992 0 0 0-1.399-.003.983.983 0 0 0 0 1.395l1.855 1.854 2.763 2.765a.538.538 0 0 1-.76.761l-2.765-2.764a.982.982 0 0 0-1.395 0 .989.989 0 0 0 0 1.395l5.32 5.32c3.371 3.372 6.64 4.977 10.49 1.126C19.74 19.8 20.271 17 18.62 13.982L15.812 9.04z"></path></g></svg></span></span></button></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft5"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-disablePointerEvents u-marginLeft4" data-action="show-recommends" data-action-value="a3684c6f71e">504</button></span></div></div><div class="u-height20 u-borderRightLighter u-inlineBlock u-relative u-marginRight10 u-marginLeft12"></div><div class="buttonSet"><button class="button button--chromeless is-touchIconFadeInPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/a3684c6f71e" data-action-source="placement_card_footer_grid-----a3684c6f71e----2-43----------------bookmark_preview"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126a.508.508 0 0 0 .708-.03.5.5 0 0 0 .118-.285H19V6zm-6.838 9.97L7 19.636V6c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v13.637l-5.162-3.668a.49.49 0 0 0-.676 0z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19 6c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v14.66h.012c.01.103.045.204.12.285a.5.5 0 0 0 .706.03L12.5 16.85l5.662 4.126c.205.183.52.17.708-.03a.5.5 0 0 0 .118-.285H19V6z"></path></svg></span></span></button></div></div></div></div></div></div></div></div></div></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper" data-action-scope="_actionscope_5"><div class="container u-maxWidth740"><div class="responsesStreamWrapper u-maxWidth640 js-responsesStreamWrapper"><div class="container responsesStream-title u-paddingTop15"><div class="row"><header class="heading"><div class="u-clearfix"><div class="heading-content u-floatLeft"><span class="heading-title heading-title--semibold">Responses</span></div></div></header></div></div><div class="responsesStream-editor cardChromeless u-marginBottom20 u-paddingLeft20 u-paddingRight20 js-responsesStreamEditor"><div class="u-paddingTop30 u-paddingBottom30 u-paddingLeft0 u-paddingRight0 u-borderBottomLightest js-responsesLoggedOutPrompt"><button class="button button--chromeless is-touchIconBlackPulse u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--withIconAndLabel button--loggedOutPrompt" data-action="sign-up-prompt" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc#--respond" data-skip-onboarding="true" data-action-source="logged_out_response_prompt--------------------------respond_box"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"></path></svg></span><span class="button-label  js-buttonLabel">Write a response…</span></button></div></div><div class="responsesStream js-responsesStream"></div><div class="container u-hide js-showOtherResponses"><div class="row"><button class="button button--primary button--withChrome u-accentColor--buttonNormal responsesStream-showOtherResponses cardChromeless u-sizeFullWidth u-marginVertical20 u-heightAuto" data-action="show-other-responses">Show all responses</button></div></div><div class="responsesStream js-responsesStreamOther"></div></div></div></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed" data-scroll="fixed" style="top: 150px;"><ul><li class="u-textAlignCenter u-marginVertical10"><div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="23dea376b2fc" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_share_widget-----23dea376b2fc---------------------clap_sidebar"><div class="u-relative u-foreground"><button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-xs-paddingLeft13 u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/23dea376b2fc" data-action-source="post_share_widget-----23dea376b2fc---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0"><svg class="svgIcon-use" width="33" height="33" viewBox="0 0 33 33"><g fill-rule="evenodd"><path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z"></path><path d="M13.285.48l-1.916.881 2.37 2.837z"></path><path d="M21.719 1.361L19.79.501l-.44 3.697z"></path><path d="M16.502 3.298L15.481 0h2.043z"></path></g></svg></span></span></button><div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="23dea376b2fc"><span class="svgIcon svgIcon--removeThin svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd"></path></svg></span></button></div></div><span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"></span></div></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"></path></svg></span></button></li><li class="u-textAlignCenter u-marginVertical10"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/23dea376b2fc" data-action-source="post_share_widget-----23dea376b2fc---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"></path></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29"><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"></path></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link u-baseColor--link avatar u-inline" href="https://medium.com/@danjrod" data-action="show-user-card" data-action-value="76212358fd10" data-action-type="hover" data-user-id="76212358fd10" dir="auto"><img src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/0_P817frWsEBLG1Tam_" class="avatar-image avatar-image--smaller" alt="Go to the profile of Daniel Rodriguez"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Daniel Rodriguez</strong>, when you sign up for Medium. <a class="link u-baseColor--link link--accent u-accentColor--textNormal u-accentColor--textDarken" href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Daniel Rodriguez</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState" data-user-id="76212358fd10"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/76212358fd10" data-action-source="sticky_footer-76212358fd10-------------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div><div class="highlightMenu" data-action-scope="_actionscope_3"><div class="highlightMenu-inner"><div class="buttonSet"><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu u-accentColor--highlightStrong js-highlightMenuQuoteButton" data-action="sign-up-prompt" data-sign-in-action="quote" data-requires-token="true" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-skip-onboarding="true" data-redirect-type="quote" data-action-source="quote_menu--------------------------highlight_text"><span class="svgIcon svgIcon--highlighter svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M13.7 15.964l5.204-9.387-4.726-2.62-5.204 9.387 4.726 2.62zm-.493.885l-1.313 2.37-1.252.54-.702 1.263-3.796-.865 1.228-2.213-.202-1.35 1.314-2.37 4.722 2.616z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="sign-up-prompt" data-sign-in-action="quote-respond" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-skip-onboarding="true" data-action-source="quote_menu--------------------------respond_text"><span class="svgIcon svgIcon--responseFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M19.074 21.117c-1.244 0-2.432-.37-3.532-1.096a7.792 7.792 0 0 1-.703-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.662 0 8.457 3.5 8.457 7.803 0 2.058-.85 3.984-2.403 5.448.023.17.06.35.118.55.192.69.537 1.38 1.026 2.04.15.21.172.48.058.7a.686.686 0 0 1-.613.38h-.03z" fill-rule="evenodd"></path></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="twitter" data-action-source="quote_menu"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"></path></svg></span></button><div class="buttonSet-separator"></div><button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon button--highlightMenu" data-action="sign-up-prompt" data-sign-in-action="highlight" data-redirect="https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc" data-skip-onboarding="true" data-action-source="quote_menu--------------------------privatenote_text"><span class="svgIcon svgIcon--privatenoteFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25"><g fill-rule="evenodd"><path d="M17.662 4.552H7.346A4.36 4.36 0 0 0 3 8.898v5.685c0 2.168 1.614 3.962 3.697 4.28v2.77c0 .303.35.476.59.29l3.904-2.994h6.48c2.39 0 4.35-1.96 4.35-4.35V8.9c0-2.39-1.95-4.346-4.34-4.346zM16 14.31a.99.99 0 0 1-1.003.99h-4.994C9.45 15.3 9 14.85 9 14.31v-3.02a.99.99 0 0 1 1-.99v-.782a2.5 2.5 0 0 1 2.5-2.51c1.38 0 2.5 1.13 2.5 2.51v.782c.552.002 1 .452 1 .99v3.02z"></path><path d="M14 9.81c0-.832-.674-1.68-1.5-1.68-.833 0-1.5.84-1.5 1.68v.49h3v-.49z"></path></g></svg></span></button></div></div><div class="highlightMenu-arrowClip"><span class="highlightMenu-arrow"></span></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"32830-75aaf10","currentUser":{"userId":"lo_F7GVTsPPKdGx","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false,"hightowerLastLockedAt":0},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"language":"en-us","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.GB_ercV-EiNBYTZjoIKHjw.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.obIAMGOFHSyLwfbi_ZZkaw.js","hightower":"https://cdn-static-1.medium.com/_/fp/gen-js/main-hightower.bundle.F_K2VJM6SR4Vn4HuOJFqlg.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.WtN4ggf9yt559duU6GVFrg.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.No4JlX3jm0XbjdaTWa3QMA.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.gWUvV2Pui0tPwn3IIQfldg.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.GuTHsUNiA3plBDWC1XDyWA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.WuV9pWqh8kTem9PvxxKZGw.js","power-readers":"https://cdn-static-1.medium.com/_/fp/gen-js/main-power-readers.bundle.mrhX2HbA0V2C18HrJKU4vw.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.j-V7rBhK12dCWEYAIRel3w.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.YjfCQd8JQkwbXAhpoZISew.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1519909987212:f4fad6d4cf74","useragent":{"browser":"chrome","family":"chrome","os":"windows","version":64,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":true,"supportsVideoSections":true,"emojiSupportLevel":1,"isSearchBot":false,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"reengagement_notification_duration":3,"browsable_stream_config_bucket":"curated-topics","enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"enable_export_members":true,"enable_series_card_background_creation":true,"available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","enable_sms":true,"is_not_medium_subscriber":true,"disable_followed_tag_fan_out":true,"enable_glyph":true,"glyph_font_set":"m2","enable_branding":true,"enable_branding_fonts":true,"enable_branding_buttons":true,"enable_sequence_carousel":true,"enable_multirecommends":true,"enable_view_new_collection_writers_manager":true,"enable_post_monger_v2":true,"enable_user_post_metering":true,"max_premium_content_per_user_under_metering":3,"tag_intercom_user_on_metering_count":3,"enable_topic_writer_onboarding":true,"enable_algolia_search_reporting":true,"enable_strong_graph_chp_reorder":true,"enable_unsplash_images":true,"enable_top_stories_for_you":true,"enable_ios_member_post_labeling":true,"enable_featured_hero":true,"enable_li_search_collection":true,"enable_audio_playlists":true,"enable_homepage_remodel":true,"enable_platform_934_loading":true,"enable_signin_wall_custom_domain":true,"enable_standalone_profile_edit_page":true,"enable_standalone_user_follow_pages":true,"enable_post_footer_copy":true,"enable_february_awareness_email_campaign":true,"dd_add_popchunk_section":true,"app_download_email_template":"control","enable_bloomd_double_write":true,"enable_bloomd_sharding":true,"enable_hack_series_web":true,"enable_logged_in_payment_flow_upgrade_lp":true,"enable_elevate_sequence":true,"enable_infinite_ranked_feed":true,"enable_editors_picks_notifications":true,"enable_marketing_emails":true,"increase_editor_recs_6_days":5,"enable_digest_new_user_note":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/monogram-mask.svg":"https://cdn-static-1.medium.com/_/fp/icons/monogram-mask.KPLCSFEZviQN0jQ7veN2RQ.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m2.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"},{"id":10,"url":"https://glyph.medium.com/css/elv8.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"69dd28be709a35d6\",\"ot-tracer-traceid\":\"4ed1d8f53d0242a7\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]}},"mailingListArchiveUploadSizeMb":2,"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"},"referrerType":4,"isMeteredOut":false,"meterConfig":{"maxUnlockCount":3,"windowLength":"MONTHLY"},"partnerProgramEmail":"partnerprogram@medium.com","userResearchPrompts":[{"promptId":"lo_post_page_4","type":0,"url":"www.calendly.com"},{"promptId":"lo_home_page","type":1,"url":"www.calendly.com"},{"promptId":"lo_profile_page","type":2,"url":"www.calendly.com"}],"recaptchaKey":"6LdAokEUAAAAAC7seICd4vtC8chDb3jIXDQulyUJ","paypalClientMode":"production","signinWallCustomDomainCollectionIds":["3a8144eabfe3"],"countryCode":"FR"}
// ]]></script><script charset="UTF-8" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/main-base.bundle.GB_ercV-EiNBYTZjoIKHjw.js.ladda ned" async=""></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"23dea376b2fc","versionId":"9598b742c883","creatorId":"76212358fd10","creator":{"userId":"76212358fd10","name":"Daniel Rodriguez","username":"danjrod","createdAt":1519574253483,"lastPostCreatedAt":1519896753996,"imageId":"0*P817frWsEBLG1Tam.","backgroundImageId":"","bio":"","twitterScreenName":"","socialStats":{"userId":"76212358fd10","usersFollowedCount":1,"usersFollowedByCount":0,"type":"SocialStats"},"social":{"userId":"lo_F7GVTsPPKdGx","targetUserId":"76212358fd10","type":"Social"},"facebookAccountId":"","allowNotes":1,"isNsfw":false,"type":"User"},"homeCollectionId":"","title":"Interactive Brokers in Python with backtrader","detectedLanguage":"en","latestVersion":"9598b742c883","latestPublishedVersion":"9598b742c883","hasUnpublishedEdits":false,"latestRev":803,"createdAt":1519574272385,"updatedAt":1519901811041,"acceptedAt":0,"firstPublishedAt":1519901810131,"latestPublishedAt":1519901810131,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Getting into real algotrading","bodyModel":{"paragraphs":[{"name":"f626","type":3,"text":"Interactive Brokers in Python with backtrader","markups":[]},{"name":"d3e6","type":13,"text":"Getting into real algotrading","markups":[]},{"name":"51fc","type":1,"text":"Reddit’s r/algotrading seems to have a constant number of posts which revolve about the ideas: How can I trade with Python (using frameworks or not) and Interactive Brokers? Let’s try to see how to achieve it with *backtrader.","markups":[]},{"name":"f6db","type":1,"text":"For starters we need an environment, so let’s create one and to go with the times, we will set it up with the formidable *pipenv*.","markups":[]},{"name":"2a80","type":8,"text":"pipenv install backtrader\npipenv install https://github.com/blampe/IbPy/archive/master.zip","markups":[{"type":3,"start":41,"end":90,"href":"https://github.com/blampe/IbPy/archive/master.zip","title":"","rel":"nofollow","anchorType":0}]},{"name":"aaf3","type":1,"text":"This will create a virtual environment with the aforementioned packages (yes, we have installed directly from the GitHub master, because *IbPy* is not available on PyPi)","markups":[]},{"name":"bd61","type":1,"text":"We of course need to have access to Interactive Brokers. For the purpose of this post, we’ll use the full blown client but we *Faux Data*.","markups":[]},{"name":"5b82","type":9,"text":"Get the client from here: https://www.interactivebrokers.com/en/index.php?f=19903","markups":[{"type":3,"start":26,"end":81,"href":"https://www.interactivebrokers.com/en/index.php?f=19903","title":"","rel":"nofollow","anchorType":0}]},{"name":"548b","type":9,"text":"If the link is broken … google it, finding the latest version of TWS isn’t such a great deal","markups":[]},{"name":"4a4f","type":9,"text":"Install it and run it","markups":[]},{"name":"508c","type":1,"text":"When prompted for the credentials and type of trading choose:","markups":[]},{"name":"39f6","type":9,"text":"Username: edemo","markups":[{"type":2,"start":10,"end":15}]},{"name":"c704","type":9,"text":"Password: demouser","markups":[{"type":2,"start":10,"end":18}]},{"name":"3144","type":9,"text":"Trading: Paper Trading","markups":[{"type":2,"start":9,"end":22}]},{"name":"8db3","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*IQRFn6zx2kiiY8JJYUSqaw.png","originalWidth":458,"originalHeight":284}},{"name":"76ea","type":1,"text":"The actual trading makes no difference with Faux Data, it is just to show what you will probably want to do before really going live.","markups":[]},{"name":"e9a6","type":1,"text":"Now TWS should be running like this","markups":[]},{"name":"bf48","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*SoUsKl4vanxHtiaqW3pvNg.png","originalWidth":1314,"originalHeight":699,"isFeatured":true}},{"name":"7787","type":1,"text":"With the client running, we additionally need to do a couple of things","markups":[]},{"name":"e81f","type":9,"text":"Under File -\x3e Global Configuration choose Settings -\x3e API and","markups":[{"type":10,"start":6,"end":34},{"type":10,"start":42,"end":57}]},{"name":"2397","type":9,"text":"Check Enable ActiveX and Socket Clients and uncheck Read-Only API","markups":[{"type":10,"start":6,"end":39},{"type":10,"start":52,"end":65}]},{"name":"de89","type":9,"text":"Notice that the port is 7497 , which differs from the standard 7496 which is used for Live Trading (remember we chose Paper Trading above)","markups":[{"type":10,"start":24,"end":28},{"type":10,"start":63,"end":67}]},{"name":"6cf2","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*kdkdLD2wCKhzmm-2gW24xw.png","originalWidth":800,"originalHeight":660}},{"name":"29e7","type":1,"text":"We are good to go.","markups":[]},{"name":"c990","type":1,"text":"Getting a data stream","markups":[{"type":1,"start":0,"end":21}]},{"name":"254f","type":1,"text":"Let’s start easy by getting a data stream with a simple script","markups":[]},{"name":"1382","type":8,"text":"from __future__ import (absolute_import, division, print_function,\n                        unicode_literals)","markups":[]},{"name":"284d","type":8,"text":"import backtrader as bt","markups":[]},{"name":"be0e","type":8,"text":"class St(bt.Strategy):\n    def logdata(self):\n        txt = []\n        txt.append('{}'.format(len(self)))\n           \n        txt.append('{}'.format(\n            self.data.datetime.datetime(0).isoformat())\n        )\n        txt.append('{:.2f}'.format(self.data.open[0]))\n        txt.append('{:.2f}'.format(self.data.high[0]))\n        txt.append('{:.2f}'.format(self.data.low[0]))\n        txt.append('{:.2f}'.format(self.data.close[0]))\n        txt.append('{:.2f}'.format(self.data.volume[0]))\n        print(','.join(txt))","markups":[]},{"name":"9921","type":8,"text":"    def next(self):\n        self.logdata()","markups":[]},{"name":"cdde","type":8,"text":"def run(args=None):\n    cerebro = bt.Cerebro(stdstats=False)\n    store = bt.stores.IBStore(port=7497)","markups":[]},{"name":"b754","type":8,"text":"    data = store.getdata(dataname='TWTR',\n                         timeframe=bt.TimeFrame.Ticks)    \n    cerebro.resampledata(data, timeframe=bt.TimeFrame.Seconds,\n                         compression=10)\n    cerebro.addstrategy(St)","markups":[]},{"name":"ea2c","type":8,"text":"    cerebro.run()","markups":[]},{"name":"7a8f","type":8,"text":"if __name__ == '__main__':\n    run()","markups":[]},{"name":"e92d","type":1,"text":"Some notes","markups":[]},{"name":"b39c","type":9,"text":"We have chosen TWTR as the ticker (dataname='TWTR' )","markups":[{"type":10,"start":15,"end":19},{"type":10,"start":35,"end":50}]},{"name":"d123","type":9,"text":"We have applied a timeframe=bt.TimeFrame.Ticks because we want to collect real-time data in the form of ticks. Interactive Brokers doesn’t deliver ready-made 10-seconds bars when they are complete","markups":[{"type":10,"start":18,"end":46}]},{"name":"4270","type":9,"text":"The ticks are resample to 10-seconds bars with cerebro.resampledata","markups":[{"type":10,"start":47,"end":67}]},{"name":"1b1a","type":9,"text":"Our strategy class, does simply print the data. Let’s see how it looks like","markups":[]},{"name":"d87e","type":8,"text":"pipenv run ./ibtutorial.py","markups":[]},{"name":"3af2","type":8,"text":"Server Version: 76\nTWS Time at connection:20180301 10:46:18 CET\n1,2018-03-01T06:46:20,33.41,33.43,33.38,33.38,11.00\n2,2018-03-01T06:46:30,33.42,33.42,33.34,33.42,15.00\n...\n1079,2018-03-01T09:46:00,33.56,33.57,33.54,33.57,33.00\n1080,2018-03-01T09:46:10,33.56,33.59,33.55,33.57,32.00\n1081,2018-03-01T09:46:30,33.44,33.44,33.43,33.43,7.00\n1082,2018-03-01T09:46:40,33.44,33.47,33.41,33.44,22.00","markups":[]},{"name":"fafe","type":1,"text":"Very quickly a whooping total of 1082 bars. This is so, because backtrader has done back-filling for us. But we don’t know where is the difference between back-filled bars and the real-time bars. Let’s rely on notifications by extending our strategy class with this method (and an attribute to control when data is live)","markups":[{"type":2,"start":64,"end":74},{"type":2,"start":84,"end":96},{"type":2,"start":315,"end":319}]},{"name":"5ba4","type":8,"text":"data_live = False","markups":[]},{"name":"a43b","type":8,"text":"def notify_data(self, data, status, *args, **kwargs):\n    print('*' * 5, 'DATA NOTIF:', data._getstatusname(status),\n          *args)\n    if status == data.LIVE:\n        self.data_live = True","markups":[]},{"name":"7b3e","type":1,"text":"And we give ourselves a chance to see the notification","markups":[]},{"name":"d4b7","type":8,"text":"pipenv run ./ibtutorial.py","markups":[]},{"name":"8d68","type":8,"text":"Server Version: 76\nTWS Time at connection:20180301 10:52:58 CET\n***** DATA NOTIF: DELAYED\n1,2018-03-01T06:53:00,33.43,33.44,33.43,33.43,10.00\n...\n1081,2018-03-01T09:53:00,33.51,33.51,33.51,33.51,6.00\n***** DATA NOTIF: LIVE\n1082,2018-03-01T09:53:10,33.52,33.54,33.52,33.52,31.00","markups":[]},{"name":"29d7","type":1,"text":"Now we see it clearly. At the beginning the data is DELAYED and only after 1081 bars is the system in a position to provide you with real-time data. Remember we are using 10-seconds bars. When we get bar 1082, this is the summary of the last 10 seconds.","markups":[{"type":10,"start":52,"end":59}]},{"name":"efcf","type":1,"text":"Doing some trading","markups":[{"type":1,"start":0,"end":18}]},{"name":"e414","type":1,"text":"The next step is obviously doing some trading, now that we are getting some data. If you have carefully read the code above you will have noticed that the data stream is fetched with a: store.getdata(...) . And that before that we created the store with store = bt.stores.IBStore(...)","markups":[{"type":10,"start":186,"end":204},{"type":10,"start":254,"end":284}]},{"name":"6303","type":1,"text":"backtrader offers the Store concept to provide a unified interface to access data instances and broker instances. This post is about Interactive Brokers. If you decide to go some other path, you simply need to change the Store. Getting the data will still be done with data = store.getdata(...)","markups":[{"type":10,"start":269,"end":294},{"type":2,"start":0,"end":10},{"type":2,"start":22,"end":27},{"type":2,"start":221,"end":226}]},{"name":"bb7a","type":1,"text":"All this store applies to the broker and will be used now. We are going to add our broker to the mixture","markups":[{"type":2,"start":9,"end":14}]},{"name":"48a5","type":8,"text":"...\ncerebro.resampledata(data, timeframe=bt.TimeFrame.Seconds, \n                     compression=10)","markups":[]},{"name":"2718","type":8,"text":"broker = store.getbroker()","markups":[]},{"name":"d5cc","type":8,"text":"cerebro.addstrategy(St)\n...","markups":[]},{"name":"3df9","type":1,"text":"This simple line (after for example cerebro.esampledata ) does the magic of changing the backtesting (which defaults to a broker simulation) engine to use the Interactive Brokers facilities.","markups":[{"type":10,"start":36,"end":55}]},{"name":"5df7","type":1,"text":"We obviously need now some buy/sell action. Rather than implementing a sensible strategy, we will go for a dummy approach","markups":[{"type":10,"start":27,"end":35}]},{"name":"0535","type":9,"text":"Buy 1 unit as soon as DATA.LIVE is notified ( Market order). A stake of 1 is the default so we will just issue a self.buy()","markups":[{"type":10,"start":4,"end":5},{"type":10,"start":22,"end":31},{"type":10,"start":46,"end":52},{"type":10,"start":113,"end":123}]},{"name":"1012","type":9,"text":"Sell 1 unit 3 bars later ( Market order) for which we’ll issue a self.sell()","markups":[{"type":10,"start":5,"end":6},{"type":10,"start":27,"end":33},{"type":10,"start":65,"end":76}]},{"name":"1c22","type":1,"text":"The reason: we don’t want to wait for moving averages crossing over or stochatic or rsi indicators going overbought or oversold.","markups":[]},{"name":"f65a","type":1,"text":"We obviously also want to see when the orders have been executed, so we’ll also look out for order notifications.","markups":[]},{"name":"f101","type":8,"text":"def notify_order(self, order):\n    if order.status == order.Completed:\n        buysell = 'BUY ' if order.isbuy() else 'SELL'\n        txt = '{} {}@{}'.format(buysell, order.executed.size,\n                                order.executed.price)\n        print(txt)","markups":[]},{"name":"5d3f","type":8,"text":"bought = 0\nsold = 0","markups":[]},{"name":"fd78","type":8,"text":"def next(self):\n    self.logdata()\n    if not self.data_live:\n        return","markups":[]},{"name":"d802","type":8,"text":"    if not self.bought:\n        self.bought = len(self)  # keep entry bar\n        self.buy()\n    elif not self.sold:\n        if len(self) == (self.bought + 3):\n            self.sell()","markups":[]},{"name":"75bb","type":1,"text":"That’s the set of modifications we have made to the simple strategy we had above. Not much. bought and sold will be used as flags to understand if we have already bought (and when) and sold. We’ll only be executing these operations once in this example.","markups":[{"type":2,"start":92,"end":98},{"type":2,"start":103,"end":107}]},{"name":"3e67","type":1,"text":"Let the show begin","markups":[]},{"name":"c6c0","type":8,"text":"pipenv run ./ibtutorial.py","markups":[]},{"name":"b25a","type":8,"text":"Server Version: 76\nTWS Time at connection:20180301 11:12:56 CET\n***** DATA NOTIF: DELAYED\n1,2018-03-01T07:12:50,33.54,33.56,33.52,33.54,25.00\n...\n1081,2018-03-01T10:12:50,33.19,33.19,33.18,33.19,8.00\n***** DATA NOTIF: LIVE\n1082,2018-03-01T10:13:00,33.55,33.55,33.55,33.55,64.00\nBUY  1@33.55\n1083,2018-03-01T10:13:10,33.55,33.55,33.54,33.54,17.00\n1084,2018-03-01T10:13:20,33.55,33.55,33.52,33.54,9.00\n1085,2018-03-01T10:13:30,33.54,33.54,33.53,33.54,33.00\nSELL -1@33.52\n1086,2018-03-01T10:13:40,33.52,33.56,33.52,33.52,45.00\n...","markups":[]},{"name":"2965","type":1,"text":"Incredible but true. The code we crafted above has respected our wishes and when the data has gone live, a buy has been executed. Ad 3 bars later a sell has also been executed.","markups":[]},{"name":"4e05","type":1,"text":"We have actually lost some money because we bought at 33.55 and sold at 33.52 , but so is the circus.","markups":[{"type":10,"start":54,"end":59},{"type":10,"start":72,"end":77}]},{"name":"b3b6","type":1,"text":"The 3 code samples from above have been placed in Github under","markups":[]},{"name":"e661","type":9,"text":"https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7","markups":[{"type":3,"start":0,"end":67,"href":"https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7","title":"","rel":"nofollow","anchorType":0}]},{"name":"09eb","type":1,"text":"This a rather dull and boring example, but it should give an insight as how easy it is to get up and running. There are many more things you could apply, like for example","markups":[]},{"name":"02b9","type":9,"text":"Indicators, like moving averages, stochastic , macd , rsi and many others. Over 100 are built-in in backtrader. Should that not be enough, you can also use ta-lib with it","markups":[{"type":10,"start":17,"end":32},{"type":10,"start":34,"end":44},{"type":10,"start":47,"end":51},{"type":10,"start":54,"end":57},{"type":10,"start":156,"end":162},{"type":2,"start":100,"end":112}]},{"name":"97eb","type":9,"text":"Analyzers: SharpeRatio , TimeReturn , DrawDown and many others","markups":[{"type":10,"start":11,"end":22},{"type":10,"start":25,"end":35},{"type":10,"start":38,"end":46}]},{"name":"f85f","type":9,"text":"Observers: which are half-way between Indicators and Analyzers and are mostly intended for plotting","markups":[]},{"name":"27f2","type":9,"text":"Plotting: (not in real-time) You need matplotlib and you can plot with a single command cerebro.plot() at the end of your backtesting","markups":[{"type":10,"start":38,"end":48},{"type":10,"start":88,"end":102}]},{"name":"5280","type":9,"text":"Timers: to execute actions at given times","markups":[]},{"name":"722f","type":1,"text":"And many other things which you can check in the docs or you can ask about int the community.","markups":[]},{"name":"7d0c","type":9,"text":"Docs: https://www.backtrader.com/docu","markups":[{"type":3,"start":6,"end":37,"href":"https://www.backtrader.com/docu","title":"","rel":"","anchorType":0}]},{"name":"288e","type":9,"text":"Blog: https://www.backtrader.com/blog","markups":[{"type":3,"start":6,"end":37,"href":"https://www.backtrader.com/blog","title":"","rel":"","anchorType":0}]},{"name":"dd25","type":9,"text":"Community: https://community.backtrader.com","markups":[{"type":3,"start":11,"end":43,"href":"https://community.backtrader.com","title":"","rel":"","anchorType":0}]},{"name":"5006","type":9,"text":"Source code: https://github.com/backtrader/backtrader","markups":[{"type":3,"start":13,"end":53,"href":"https://github.com/backtrader/backtrader","title":"","rel":"","anchorType":0}]},{"name":"e698","type":1,"text":"Of course and before you engage into any trading: do you backtesting, look for bugs in your code, redo your backtesting.","markups":[]},{"name":"e20e","type":1,"text":"Happy trading.","markups":[]}],"sections":[{"name":"2a39","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*SoUsKl4vanxHtiaqW3pvNg.png","filter":"","backgroundSize":"","originalWidth":1314,"originalHeight":699,"strategy":"resample","height":0,"width":0},"wordCount":1265,"imageCount":3,"readingTime":5.323584905660377,"subtitle":"Getting into real algotrading","usersBySocialRecommends":[],"recommends":0,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"python","name":"Python","postCount":11402,"virtuals":{"isFollowing":false},"metadata":{"followerCount":9176,"postCount":11402,"coverImage":{"id":"1*1DZImJIxInPbkqpCQpsQcA.png","originalWidth":1504,"originalHeight":1130,"isFeatured":true}},"type":"Tag"},{"slug":"backtrader","name":"Backtrader","postCount":0,"virtuals":{"isFollowing":false},"metadata":{"followerCount":0,"postCount":0},"type":"Tag"},{"slug":"interactive-brokers","name":"Interactive Brokers","postCount":2,"virtuals":{"isFollowing":false},"metadata":{"followerCount":0,"postCount":2,"coverImage":{"id":"1*VuX7dUw8QeUAtBQb1XJHAg.png","originalWidth":804,"originalHeight":482,"isFeatured":true}},"type":"Tag"},{"slug":"backtesting","name":"Backtesting","postCount":11,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2,"postCount":11,"coverImage":{"id":"1*exII9Maz96q2VSQW2FXfsQ.jpeg","originalWidth":2560,"originalHeight":1600}},"type":"Tag"},{"slug":"trading","name":"Trading","postCount":11113,"virtuals":{"isFollowing":false},"metadata":{"followerCount":1065,"postCount":11113,"coverImage":{"id":"0*xOne-0DXrCyq9F9r.","originalWidth":1600,"originalHeight":776,"isFeatured":true,"focusPercentX":50,"focusPercentY":50}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[{"url":"https://github.com/blampe/IbPy/archive/master.zip","alts":[],"httpStatus":200},{"url":"https://github.com/backtrader/backtrader","alts":[],"httpStatus":200},{"url":"https://gist.github.com/backtrader/456cf0891a7a62ceb2bbb5e4234c01e7","alts":[],"httpStatus":200},{"url":"https://www.interactivebrokers.com/en/index.php?f=19903","alts":[],"httpStatus":200},{"url":"https://community.backtrader.com","alts":[],"httpStatus":200},{"url":"https://www.backtrader.com/blog","alts":[],"httpStatus":200},{"url":"https://www.backtrader.com/docu","alts":[],"httpStatus":200}],"version":"0.3","generatedAt":1519901811170},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":0,"sectionCount":1,"readingList":0},"coverless":true,"slug":"interactive-brokers-in-python-with-backtrader","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"interactive-brokers-in-python-with-backtrader-23dea376b2fc","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*SoUsKl4vanxHtiaqW3pvNg.png","originalWidth":1314,"originalHeight":699,"isFeatured":true}},{"name":"f626","type":3,"text":"Interactive Brokers in Python with backtrader","markups":[],"alignment":1},{"name":"d3e6","type":13,"text":"Getting into real algotrading","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc","mediumUrl":"https://medium.com/@danjrod/interactive-brokers-in-python-with-backtrader-23dea376b2fc","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"deletedAt":0,"lockedPostSource":0,"hightowerMinimumGuaranteeStartsAt":0,"hightowerMinimumGuaranteeEndsAt":0,"featureLockRequestAcceptedAt":0,"featureLockRequestMinimumGuaranteeAmount":0,"isElevate":false,"mongerRequestType":1,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"76212358fd10":{"userId":"76212358fd10","name":"Daniel Rodriguez","username":"danjrod","createdAt":1519574253483,"lastPostCreatedAt":1519896753996,"imageId":"0*P817frWsEBLG1Tam.","backgroundImageId":"","bio":"","twitterScreenName":"","socialStats":{"userId":"76212358fd10","usersFollowedCount":1,"usersFollowedByCount":0,"type":"SocialStats"},"social":{"userId":"lo_F7GVTsPPKdGx","targetUserId":"76212358fd10","type":"Social"},"facebookAccountId":"","allowNotes":1,"isNsfw":false,"type":"User"}},"Social":{"76212358fd10":{"userId":"lo_F7GVTsPPKdGx","targetUserId":"76212358fd10","type":"Social"}},"SocialStats":{"76212358fd10":{"userId":"76212358fd10","usersFollowedCount":1,"usersFollowedByCount":0,"type":"SocialStats"}}}})
// ]]></script><div class="surface-scrollOverlay"></div><script charset="UTF-8" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/main-common-async.bundle.obIAMGOFHSyLwfbi_ZZkaw.js.ladda ned"></script><script charset="UTF-8" src="./Interactive Brokers in Python with backtrader – Daniel Rodriguez – Medium_files/main-notes.bundle.gWUvV2Pui0tPwn3IIQfldg.js.ladda ned"></script></body></html>